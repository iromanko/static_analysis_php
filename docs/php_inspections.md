# PhpStorm PHP Inspections Plugin

## 1. Что такое PhpStorm PHP Inspections?
PhpStorm PHP Inspections (EA Extended) – это мощный плагин для PhpStorm, который расширяет стандартные инспекции IDE, добавляя дополнительные проверки на качество кода, потенциальные ошибки и оптимизации.

## 2. Для чего нужен этот плагин?
Этот плагин помогает:
- Выявлять потенциальные баги и анти-паттерны.
- Улучшать производительность кода.
- Соблюдать лучшие практики кодирования.
- Обнаруживать устаревшие конструкции и неиспользуемый код.

## 3. Установка и настройка
### 3.1 Установка через JetBrains Marketplace
1. Открыть **Preferences → Plugins**.
2. Найти **PHP Inspections (EA Extended)**.
3. Установить и перезапустить PhpStorm.

### 3.2 Настройка инспекций
После установки можно настроить инспекции в **Preferences → Editor → Inspections → PHP → Quality Tools → PHP Inspections (EA Extended)**.

Можно включить или отключить различные категории проверок, такие как:
- Undefined variables (неопределенные переменные).
- Performance issues (проблемы с производительностью).
- Code style issues (нарушения кодстайла).
- Security issues (уязвимости в коде).
- Unused code (неиспользуемые функции и переменные).
- Strict comparison issues (ошибки строгого сравнения `===` vs `==`).

## 4. Использование в PhpStorm
- Подсветка ошибок в реальном времени.
- Быстрое исправление с помощью **Alt + Enter**.
- Возможность игнорирования отдельных предупреждений через `@noinspection`.

Вот пример кода с типичными ошибками:

[Код с ошибками](../src/php_inspections/bad/BadExample.php)

Открываем его в PhpStorm и смотрим, какие предупреждения выдаст плагин.

## 5. Преимущества и недостатки
### Преимущества
- Глубокая интеграция с PhpStorm.
- Расширенные проверки, которых нет в стандартных инспекциях IDE.
- Гибкость в настройке.
- Поддержка Suppress-аннотаций (`@noinspection`).

### Недостатки
- Запуск через CLI в CI/CD может быть медленным.
- Требуется PhpStorm, что может быть проблемой для headless-сред.
- Не так детализирован, как Psalm или PHPStan.

## Заключение

Инструменты статического анализа кода помогают находить ошибки и потенциальные проблемы ещё до выполнения кода.
Плагин PHP Inspections EA Extended отлично дополняет PhpStorm, указывая на избыточные конструкции, неоптимальный код и потенциальные баги прямо в процессе разработки.

Однако его использование в CI/CD может быть не самым удобным решением. 
В отличие от PHPCS, Psalm или PHPMD, этот плагин не предназначен для запуска в терминале и интеграции с пайплайнами. 
Он нацелен именно на повышение качества кода во время написания, помогая разработчикам исправлять проблемы на ранних этапах.

Поэтому лучшая стратегия — использовать PHP Inspections EA Extended в IDE для быстрого выявления проблем, а в CI/CD полагаться на инструменты, работающие в командной строке.
